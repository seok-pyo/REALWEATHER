# REALWEATHER

기능 목록

1. open api를 이용하여 날씨 정보를 가져온다. (현재 기온, 당일의 최저 기온, 당일의 최고 기온, 시간대 별 기온)
2. 앱에 처음 진입시 현재 위치를 감지하여 그 위치의 날씨 정보를 제공한다.
3. 유저가 원하는 장소를 검색하고 그 장소의 날씨 정보를 조회한다.
4. 검색한 장소를 즐겨찾기에 추가하거나 삭제할 수 있음.

- 즐겨찾기는 최대 6개의 장소를 추가할 수 있음.
- 추가한 장소는 카드 UI 형태로 등록.
- 즐겨찾기에 추가된 장소의 이름을 수정할 수 있음.
- 즐겨찾기에 추가된 장소 카드에는 현재 날씨 정보, 당일의 기온(최저, 최고)를 보여준다. = 현재 기온, 최저, 최고 기온
- 즐겨찾기에 카드를 클릭하면 해당 장소의 상세 페이지로 이동하고, 상세 페이지에는 모든 날씨 정보를 표시한다.

open api는 '기상청 단기예보 조회서비스'를 이용한다.

- 단기예보 : 1일 8회 제공
- 초단기실황 : 매시간 정시에 생성되고, 10분마다 최신 정보로 업데이트
- 초단기예보 : 매시간 30분에 생성되고, 10분마다 최신 정보로 업데이트

- 작일 2300시로 단기예보 요청.
- 최고기온(TMX), 최저기온(TMN)은 오전 6시, 오후 3시에만 존재. 오전 6시, 오후 3시는 13개의 items. 나머지는 12개씩 가지고 있음.
- 290개 items 요청 시 금일 오후 2300시 까지의 예보 데이터 확인 가능.
- API 정보 요청은 1일 8회로 고정.
- 현재 날씨 정보는 '초단기실황'을 사용.

메인 화면

- 검색 영역
- 현재 시각 온도
- 당일의 최저 기온
- 당일의 최고 기온
- 시간대 별 기온

즐겨찾기 카드

- 현재 날씨 정보(현재 시각 온도)
- 당일의 최저 기온
- 당일의 최고 기온

기술 스택

- Frontend: vite, react, tanstack-query, tail-wind, zustanc
- Backend: vercel
- API: openWheatherMap, Geocoder API 2.0

아키텍쳐 디자인: FSD

고민1.

검색 기능을 구현할 때, json에 직접 접근하여 사용할지 OR DB를 구축하고 쿼리로 검색을 구현하는 것이 좋을 지 고민. 일단은 json에 바로 접근하여서 검색 가능 장소를 보여주는 방식으로 구현 예정.

고민2.

기상청 API를 사용하는 경우, 현재 위치 기반 날씨를 검색하기 위해서는 격자 변환 코드가 필요.(경도, 위도 정보를 기상청 좌표값으로 변환)
격자 변환 코드를 이해하고, 작성하는 방향과 openWheatherMap API로 수정하는 방향 두 가지 중 고민. 프로젝트의 구현을 우선하기 위해, openWheatherMap API로 먼저 구현 예정.

고민3.

현재 위치의 세부 정보를 얻고 싶을때, openWheatherMap으로는 세부 주소가 표기 되지 않음.
-> 국토교통부의 Geocoder API를 이용하여 '좌표를 주소로 변환'

고민4.

CSR vs SSR. 검색 기능을 json으로 구현할 것이기 때문에 CSR로 구현하는 편이 좋을 듯. 전체 페이지 구성 상 라우팅 기능을 사용하지 않아도 될 것 같음. API 키는 vercel의 serverless 기능을 이용.

고민5.

'즐겨찾기' 페이지를 사용할 것인지, 아니면 하나의 화면에서 '즐겨찾기'를 구현할 것인지 고민.
-> 하나의 페이지만 사용하며 '즐겨찾기'를 구현. 모바일 화면을 고려하였을 때, UI 적으로도 싱글 페이지로 구현하는 것이 더 적합하다고 판단.

API 호출 데이터 흐름 정리

1. 웹에 처음 접근했을 때
   위치정보 -> API 호출(geocoder/openWheatherMap) -> 현재 날씨 표시
2. 검색해서 선택한 경우
   입력 창 쿼리 -> API 호출(geocoder/openWheatherMap) -> 현재 날씨 표시
3. 현재 날씨를 '즐겨찾기'를 누른 경우

- 3-1. 현재 날씨를 호출한 쿼리를 기억
- 3-2. 응답값을 로컬 스토리지에 저장
- 3-3. '즐겨찾기' 카드 생성

4. '즐겨찾기' 카드를 선택하는 경우

- 해당 카드의 상태를 로컬 스토리지에 저장하고 '현재 날씨 표시'

화면 레이아웃 구성

- 피그마를 이용해서 전체 레이아웃을 구성. tailwind의 값들을 기준으로 타이포그래피와 간격, 색상을 지정함.
- 핵심 기능의 레이아웃을 디자인

[화면 레이아웃](https://www.figma.com/design/VaAxemBOOKLVBA1ld0EojD/RealWheather?node-id=0-1&t=Yaqg7R3y3sHxpAnn-1)
